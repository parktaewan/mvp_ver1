(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{2224:function(e,t,r){"use strict";var n,i,o=r(6099),a=r(909),s=r(655),u=r(4589),c=r(4594),l=((i={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",i["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",i["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",i["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",i["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",i["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",i["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",i["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",i["recaptcha-error"]="ReCAPTCHA error.",i),f=new u.ErrorFactory("appCheck","AppCheck",l),p=new Map,h={activated:!1,tokenObservers:[]},d={enabled:!1};function g(e){return p.get(e)||h}function _(e,t){p.set(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v="https://content-firebaseappcheck.googleapis.com/v1beta",m={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},b=function(){function e(e,t,r,n,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=n,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=n,n>i)throw Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:var n;return r.trys.push([1,6,,7]),this.pending=new u.Deferred,[4,(n=this.getNextRun(e),new Promise(function(e){setTimeout(e,n)}))];case 2:case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new u.Deferred,[4,this.operation()];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return t=r.sent(),this.retryPolicy(t)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return self.grecaptcha}function w(e){if(!g(e).activated)throw f.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(e,t){var r=e.url,n=e.body;return s.__awaiter(this,void 0,void 0,function(){var e,i,o,a,u,c,l,p,h,d;return s.__generator(this,function(s){switch(s.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(n),headers:e},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(r,o)];case 2:return a=s.sent(),[3,4];case 3:throw u=s.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==a.status)throw f.create("fetch-status-error",{httpStatus:a.status});s.label=5;case 5:return s.trys.push([5,7,,8]),[4,a.json()];case 6:return c=s.sent(),[3,8];case 7:throw l=s.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(p=c.ttl.match(/^([\d.]+)(s)$/))||!p[2]||isNaN(Number(p[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return h=1e3*Number(p[1]),d=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:d+h,issuedAtTimeMillis:d}]}})})}function T(e,t){var r=e.options;return{url:v+"/projects/"+r.projectId+"/apps/"+r.appId+":exchangeDebugToken?key="+r.apiKey,body:{debug_token:t}}}var I="firebase-app-check-store",E="debug-token",S=null;function C(){return S||(S=new Promise(function(e,t){try{var r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=function(t){e(t.target.result)},r.onerror=function(e){var r;t(f.create("storage-open",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))},r.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(I,{keyPath:"compositeKey"})}}catch(e){t(f.create("storage-open",{originalErrorMessage:e.message}))}}))}function A(e,t){return s.__awaiter(this,void 0,void 0,function(){var r,n;return s.__generator(this,function(i){switch(i.label){case 0:return[4,C()];case 1:return n=(r=i.sent().transaction(I,"readwrite")).objectStore(I).put({compositeKey:e,value:t}),[2,new Promise(function(e,t){n.onsuccess=function(t){e()},r.onerror=function(e){var r;t(f.create("storage-set",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))}})]}})})}function P(e){return s.__awaiter(this,void 0,void 0,function(){var t,r;return s.__generator(this,function(n){switch(n.label){case 0:return[4,C()];case 1:return r=(t=n.sent().transaction(I,"readonly")).objectStore(I).get(e),[2,new Promise(function(e,n){r.onsuccess=function(t){var r=t.target.result;r?e(r.value):e(void 0)},t.onerror=function(e){var t;n(f.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}})]}})})}function R(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O=new c.Logger("@firebase/app-check");function M(e,t){return u.isIndexedDBAvailable()?A(R(e),t).catch(function(e){O.warn("Failed to write token to indexeddb. Error: "+e)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x={error:"UNKNOWN_ERROR"};function N(e,t,r){return void 0===r&&(r=!1),s.__awaiter(this,void 0,void 0,function(){var n,i,o,a,c,l,f,p,h,v;return s.__generator(this,function(m){switch(m.label){case 0:if(w(e),i=(n=g(e)).token,o=void 0,i)return[3,2];return[4,n.cachedTokenPromise];case 1:(a=m.sent())&&L(a)&&(i=a,_(e,s.__assign(s.__assign({},n),{token:i})),U(e,{token:i.token})),m.label=2;case 2:if(!r&&i&&L(i))return[2,{token:i.token}];if(!d.enabled)return[3,6];return l=k,f=T,p=[e],[4,function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){if(d.enabled&&d.token)return[2,d.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}()];case 3:return[4,l.apply(void 0,[f.apply(void 0,p.concat([m.sent()])),t])];case 4:return[4,M(e,c=m.sent())];case 5:return m.sent(),_(e,s.__assign(s.__assign({},n),{token:c})),[2,{token:c.token}];case 6:return m.trys.push([6,8,,9]),[4,n.provider.getToken()];case 7:return i=m.sent(),[3,9];case 8:return h=m.sent(),O.error(h),o=h,[3,9];case 9:var b;if(i)return[3,10];return b=o,v={token:u.base64.encodeString(JSON.stringify(x),!1),error:b},[3,12];case 10:return v={token:i.token},_(e,s.__assign(s.__assign({},n),{token:i})),[4,M(e,i)];case 11:m.sent(),m.label=12;case 12:return U(e,v),[2,v]}})})}function D(e,t,r,n,i){var o=g(e),a=s.__assign(s.__assign({},o),{tokenObservers:s.__spreadArray(s.__spreadArray([],o.tokenObservers),[{next:n,error:i,type:r}])});if(!a.tokenRefresher){var u=function(e,t){var r=this;return new b(function(){return s.__awaiter(r,void 0,void 0,function(){var r;return s.__generator(this,function(n){switch(n.label){case 0:if(g(e).token)return[3,2];return[4,N(e,t)];case 1:return r=n.sent(),[3,4];case 2:return[4,N(e,t,!0)];case 3:r=n.sent(),n.label=4;case 4:if(r.error)throw r.error;return[2]}})})},function(){return!0},function(){var t=g(e);if(!t.token)return 0;var r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5;return Math.max(0,(r=Math.min(r,t.token.expireTimeMillis-3e5))-Date.now())},m.RETRIAL_MIN_WAIT,m.RETRIAL_MAX_WAIT)}(e,t);a.tokenRefresher=u}if(!a.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),o.token&&L(o.token)){var c=o.token;Promise.resolve().then(function(){return n({token:c.token})}).catch(function(){})}else null==o.token&&o.cachedTokenPromise.then(function(e){e&&L(e)&&n({token:e.token})}).catch(function(){});_(e,a)}function F(e,t){var r=g(e),n=r.tokenObservers.filter(function(e){return e.next!==t});0===n.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),_(e,s.__assign(s.__assign({},r),{tokenObservers:n}))}function U(e,t){for(var r=g(e).tokenObservers,n=0;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(e){}}}function L(e){return e.expireTimeMillis-Date.now()>0}function j(e,t,r,n){var i=r.render(n,{sitekey:t,size:"invisible"}),o=g(e);_(e,s.__assign(s.__assign({},o),{reCAPTCHAState:s.__assign(s.__assign({},o.reCAPTCHAState),{widgetId:i})}))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return s.__awaiter(this,void 0,void 0,function(){var e;return s.__generator(this,function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,function(e){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(r){switch(r.label){case 0:return w(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=r.sent(),[2,new Promise(function(r,n){var i=g(e).reCAPTCHAState;t.ready(function(){r(t.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),f.create("recaptcha-error");case 4:var r,n,i;return[2,k((r=this._app,n=e,{url:v+"/projects/"+(i=r.options).projectId+"/apps/"+i.appId+":exchangeRecaptchaToken?key="+i.apiKey,body:{recaptcha_token:n}}),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(e,t){var r,n,i,o,a,c,l;this._app=e,this._platformLoggerProvider=t,(r=this._siteKey,n=g(e),i=new u.Deferred,_(e,s.__assign(s.__assign({},n),{reCAPTCHAState:{initialized:i}})),o="fire_app_check_"+e.name,(a=document.createElement("div")).id=o,a.style.display="none",document.body.appendChild(a),(c=y())?c.ready(function(){j(e,r,c,o),i.resolve(c)}):((l=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",l.onload=function(){var t=y();if(!t)throw Error("no recaptcha");t.ready(function(){j(e,r,t,o),i.resolve(t)})},document.head.appendChild(l)),i.promise).catch(function(){})},e}(),K=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return s.__awaiter(this,void 0,void 0,function(){var e,t,r;return s.__generator(this,function(n){switch(n.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=n.sent(),r=null!==(t=u.issuedAtTime(e.token))&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,s.__assign(s.__assign({},e),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(e){this._app=e},e}(),q="app-check-internal";(n=(o&&"object"==typeof o&&"default"in o?o:{default:o}).default).INTERNAL.registerComponent(new a.Component("appCheck",function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return{app:t,activate:function(e,n){return(/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t,r,n){var i=g(e);if(i.activated)throw f.create("already-activated",{appName:e.name});var o=s.__assign(s.__assign({},i),{activated:!0});o.cachedTokenPromise=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){return s.__awaiter(this,void 0,void 0,function(){var t,r;return s.__generator(this,function(n){switch(n.label){case 0:if(!u.isIndexedDBAvailable())return[3,5];t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,P(R(e))];case 2:return t=n.sent(),[3,4];case 3:return r=n.sent(),O.warn("Failed to read token from indexeddb. Error: "+r),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})})(e).then(function(t){return t&&L(t)&&_(e,s.__assign(s.__assign({},g(e)),{token:t})),t}),"string"==typeof t?o.provider=new B(t):t instanceof B||t instanceof K?o.provider=t:o.provider=new K({getToken:t.getToken}),o.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,_(e,o),o.provider.initialize(e,r)}(t,e,r,n))},setTokenAutoRefreshEnabled:function(e){var r;(r=g(t)).tokenRefresher&&(!0===e?r.tokenRefresher.start():r.tokenRefresher.stop()),_(t,s.__assign(s.__assign({},r),{isTokenAutoRefreshEnabled:e}))},getToken:function(e){return function(e,t,r){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(i){switch(i.label){case 0:return[4,N(e,t,r)];case 1:if((n=i.sent()).error)throw n.error;return[2,{token:n.token}]}})})}(t,r,e)},onTokenChanged:function(e,n,i){var o,a;return o=function(){},a=function(){},o=null!=e.next?e.next.bind(e):e,null!=e.error?a=e.error.bind(e):n&&(a=n),D(t,r,"EXTERNAL",o,a),function(){return F(t,o)}},INTERNAL:{delete:function(){for(var e=g(t).tokenObservers,r=0;r<e.length;r++){var n=e[r];F(t,n.next)}return Promise.resolve()}}}},"PUBLIC").setServiceProps({ReCaptchaV3Provider:B,CustomProvider:K}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,r){e.getProvider(q).initialize()})),n.INTERNAL.registerComponent(new a.Component(q,function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return{getToken:function(e){return N(t,r,e)},addTokenListener:function(e){return D(t,r,"INTERNAL",e)},removeTokenListener:function(e){return F(t,e)}}},"PUBLIC").setInstantiationMode("EXPLICIT")),n.registerVersion("@firebase/app-check","0.3.2"),function(){var e=u.getGlobal();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=d;t.enabled=!0;var r=new u.Deferred;t.token=r,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?r.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(function(){return s.__awaiter(this,void 0,void 0,function(){var e,t;return s.__generator(this,function(r){switch(r.label){case 0:e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,P(E)];case 2:return e=r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:if(e)return[2,e];return A(E,t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})).catch(function(e){return O.warn("Failed to persist debug token to indexeddb. Error: "+e)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t]}})})}())}}()},5143:function(e,t,r){"use strict";r.d(t,{Z:function(){return x.default}});var n,i,o,a,s,u,c,l,f,p,h,d,g,_,v,m,b,y,w,k,T,I,E,S,C,A,P,R,O,M,x=r(6099);r(8481),r(9446),r(6172);var N=r(9498),D=r(4589),F=r(4594);r(3705),(n=N.K).prototype.loadBundle=N.u,n.prototype.namedQuery=N.a;var U=r(655),L=r(909),j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=function(e){function t(r,n,i){var o=e.call(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o.code=r,o.details=i,o}return(0,U.__extends)(t,e),t}(Error),K=function(){function e(e,t){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(e){return r.auth=e},function(){}),this.messaging||t.get().then(function(e){return r.messaging=e},function(){})}return e.prototype.getAuthToken=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:if(!(e=t.sent()))return[2,void 0];return[2,e.accessToken];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getAuthToken()];case 1:return e=t.sent(),[4,this.getInstanceIdToken()];case 2:return[2,{authToken:e,instanceIdToken:t.sent()}]}})})},e}();function q(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}var H=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return q(e,function(e){return t.encode(e)});throw Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var r=Number(e.value);if(isNaN(r))throw Error("Data cannot be decoded from JSON: "+e);return r;default:throw Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?q(e,function(e){return t.decode(e)}):e},e}(),V=function(){function e(e,t,r,n,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=n,this.fetchImpl=o,this.serializer=new H,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new K(t,r),this.cancelAllRequests=new Promise(function(e){a.deleteService=function(){return e()}});try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var r=this;return function(n){return r.call(e,n,t||{})}},e.prototype.postJSON=function(e,t,r){return(0,U.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(n=a.sent())&&(r["X-Firebase-AppCheck"]=n),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:r})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},e.prototype.getAppCheckToken=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!(e=this.appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype.call=function(e,t,r){return(0,U.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,l,f,p;return(0,U.__generator)(this,function(h){switch(h.label){case 0:return n=this._url(e),i={data:t=this.serializer.encode(t)},o={},[4,this.contextProvider.getContext()];case 1:var d,g,_;return(a=h.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),d=r.timeout||7e4,_=new Promise(function(e,t){g=setTimeout(function(){t(new B("deadline-exceeded","deadline-exceeded"))},d)}),u=(s={timer:g,promise:_}).timer,c=s.promise,[4,Promise.race([z(u,this.postJSON(n,i,o)),c,z(u,this.cancelAllRequests)])];case 2:if(!(l=h.sent()))throw new B("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,r){var n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=n,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!j[s])return new B("internal","internal");n=j[s],i=s}var u=a.message;"string"==typeof u&&(i=u),o=a.details,void 0!==o&&(o=r.decode(o))}}catch(e){}return"ok"===n?null:new B(n,i,o)}(l.status,l.json,this.serializer))throw f;if(!l.json)throw new B("internal","Response is not valid JSON object.");if(void 0===(p=l.json.data)&&(p=l.json.result),void 0===p)throw new B("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}})})},e}();function z(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,t];case 1:return r=n.sent(),clearTimeout(e),[2,r]}})})}!/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){e.INTERNAL.registerComponent(new L.Component("functions",function(e,r){var n=r.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new V(i,o,s,a,n,t)},"PUBLIC").setServiceProps({Functions:V}).setMultipleInstances(!0))}(x.default,fetch.bind(self)),x.default.registerVersion("@firebase/functions","0.6.16");var W=r(8676),G="0.4.32",$="w:"+G,X="FIS_v2",J=((g={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',g["not-registered"]="Firebase Installation is not registered.",g["installation-not-found"]="Firebase Installation not found.",g["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',g["app-offline"]="Could not process request. Application offline.",g["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",g),Y=new D.ErrorFactory("installations","Installations",J);function Z(e){return e instanceof D.FirebaseError&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function ee(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}function et(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,t.json()];case 1:return r=n.sent().error,[2,Y.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function er(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function en(e,t){var r=t.refreshToken,n=er(e);return n.append("Authorization",X+" "+r),n}function ei(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return[4,e()];case 1:if((t=r.sent()).status>=500&&t.status<600)return[2,e()];return[2,t]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=new Map;function ec(e,t){var r,n=es(e);el(n,t),(r=ep())&&r.postMessage({key:n,fid:t}),eh()}function el(e,t){var r,n,i=eu.get(e);if(i)try{for(var o=(0,U.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}var ef=null;function ep(){return!ef&&"BroadcastChannel"in self&&((ef=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){el(e.data.key,e.data.fid)}),ef}function eh(){0===eu.size&&ef&&(ef.close(),ef=null)}var ed="firebase-installations-store",eg=null;function e_(){return eg||(eg=(0,W.openDb)("firebase-installations-database",1,function(e){0===e.oldVersion&&e.createObjectStore(ed)})),eg}function ev(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return r=es(e),[4,e_()];case 1:return[4,(i=(n=a.sent().transaction(ed,"readwrite")).objectStore(ed)).get(r)];case 2:return o=a.sent(),[4,i.put(t,r)];case 3:return a.sent(),[4,n.complete];case 4:return a.sent(),o&&o.fid===t.fid||ec(e,t.fid),[2,t]}})})}function em(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return t=es(e),[4,e_()];case 1:return[4,(r=n.sent().transaction(ed,"readwrite")).objectStore(ed).delete(t)];case 2:return n.sent(),[4,r.complete];case 3:return n.sent(),[2]}})})}function eb(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i,o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:return r=es(e),[4,e_()];case 1:return[4,(i=(n=s.sent().transaction(ed,"readwrite")).objectStore(ed)).get(r)];case 2:if(void 0!==(a=t(o=s.sent())))return[3,4];return[4,i.delete(r)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,r)];case 5:s.sent(),s.label=6;case 6:return[4,n.complete];case 7:return s.sent(),a&&(!o||o.fid!==a.fid)&&ec(e,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,eb(e,function(r){var n=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Y.create("app-offline"))};var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,7]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){var r=t.fid;return(0,U.__awaiter)(this,void 0,void 0,function(){var t,n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return t=Q(e),n={method:"POST",headers:er(e),body:JSON.stringify({fid:r,authVersion:X,appId:e.appId,sdkVersion:$})},[4,ei(function(){return fetch(t,n)})];case 1:if(!(i=a.sent()).ok)return[3,3];return[4,i.json()];case 2:return[2,{fid:(o=a.sent()).fid||r,registrationStatus:2,refreshToken:o.refreshToken,authToken:ee(o.authToken)}];case 3:return[4,et("Create Installation",i)];case 4:throw a.sent()}})})}(e,t)];case 1:return[2,ev(e,n.sent())];case 2:if(!(Z(r=n.sent())&&409===r.customData.serverCode))return[3,4];return[4,em(e)];case 3:return n.sent(),[3,6];case 4:return[4,ev(e,{fid:t.fid,registrationStatus:0})];case 5:n.sent(),n.label=6;case 6:throw r;case 7:return[2]}})})}(e,r);return{installationEntry:r,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:return[4,ew(e)];case 1:t=o.sent(),o.label=2;case 2:if(1!==t.registrationStatus)return[3,5];return[4,eo(100)];case 3:return o.sent(),[4,ew(e)];case 4:return t=o.sent(),[3,2];case 5:if(0!==t.registrationStatus)return[3,7];return[4,ey(e)];case 6:if(n=(r=o.sent()).installationEntry,i=r.registrationPromise)return[2,i];return[2,n];case 7:return[2,t]}})})}(e)}:{installationEntry:t}}(e,ek(r||{fid:function(){try{var e,t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var r=(e=t,btoa(String.fromCharCode.apply(String,(0,U.__spreadArray)([],(0,U.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return ea.test(r)?r:""}catch(e){return""}}(),registrationStatus:0}));return t=n.registrationPromise,n.installationEntry})];case 1:if(""!==(r=i.sent()).fid)return[3,3];return n={},[4,t];case 2:return[2,(n.installationEntry=i.sent(),n)];case 3:return[2,{installationEntry:r,registrationPromise:t}]}})})}function ew(e){return eb(e,function(e){if(!e)throw Y.create("installation-not-found");return ek(e)})}function ek(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e,t){return void 0===t&&(t=!1),(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:return[4,eb(e.appConfig,function(n){if(!eE(n))throw Y.create("not-registered");var i,o,a,s,u=n.authToken;if(!t&&2===(i=u).requestStatus&&(o=i,!((a=Date.now())<o.creationTime)&&!(o.creationTime+o.expiresIn<a+36e5)))return n;if(1===u.requestStatus)return r=function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,eI(e.appConfig)];case 1:r=i.sent(),i.label=2;case 2:if(1!==r.authToken.requestStatus)return[3,5];return[4,eo(100)];case 3:return i.sent(),[4,eI(e.appConfig)];case 4:return r=i.sent(),[3,2];case 5:if(0===(n=r.authToken).requestStatus)return[2,eT(e,t)];return[2,n]}})})}(e,t),n;if(!navigator.onLine)throw Y.create("app-offline");var c=(s={requestStatus:1,requestTime:Date.now()},(0,U.__assign)((0,U.__assign)({},n),{authToken:s}));return r=function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){var r=e.appConfig,n=e.platformLoggerProvider;return(0,U.__awaiter)(this,void 0,void 0,function(){var e,i,o,a,s;return(0,U.__generator)(this,function(u){switch(u.label){case 0:var c;return c=t.fid,e=Q(r)+"/"+c+"/authTokens:generate",i=en(r,t),(o=n.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:$}})},[4,ei(function(){return fetch(e,a)})];case 1:if(!(s=u.sent()).ok)return[3,3];return[4,s.json()];case 2:return[2,ee(u.sent())];case 3:return[4,et("Generate Auth Token",s)];case 4:throw u.sent()}})})}(e,t)];case 1:return r=o.sent(),n=(0,U.__assign)((0,U.__assign)({},t),{authToken:r}),[4,ev(e.appConfig,n)];case 2:return o.sent(),[2,r];case 3:if(!(Z(i=o.sent())&&(401===i.customData.serverCode||404===i.customData.serverCode)))return[3,5];return[4,em(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return n=(0,U.__assign)((0,U.__assign)({},t),{authToken:{requestStatus:0}}),[4,ev(e.appConfig,n)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}(e,c),c})];case 1:if(n=o.sent(),!r)return[3,3];return[4,r];case 2:return i=o.sent(),[3,4];case 3:i=n.authToken,o.label=4;case 4:return[2,i]}})})}function eI(e){return eb(e,function(e){var t;if(!eE(e))throw Y.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?(0,U.__assign)((0,U.__assign)({},e),{authToken:{requestStatus:0}}):e})}function eE(e){return void 0!==e&&2===e.registrationStatus}function eS(e){return Y.create("missing-app-config-values",{valueName:e})}(i=x.default).INTERNAL.registerComponent(new L.Component("installations",function(e){var t=e.getProvider("app").getImmediate(),r={appConfig:/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e||!e.options)throw eS("App Configuration");if(!e.name)throw eS("App Name");try{for(var t,r,n=(0,U.__values)(["projectId","apiKey","appId"]),i=n.next();!i.done;i=n.next()){var o=i.value;if(!e.options[o])throw eS(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,ey(e.appConfig)];case 1:return r=(t=i.sent()).installationEntry,(n=t.registrationPromise)?n.catch(console.error):eT(e).catch(console.error),[2,r.fid]}})})}(r))},getToken:function(e){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){return void 0===t&&(t=!1),(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(r){switch(r.label){case 0:return[4,function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return[4,ey(e)];case 1:if(!(t=r.sent().registrationPromise))return[3,3];return[4,t];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(e.appConfig)];case 1:return r.sent(),[4,eT(e,t)];case 2:return[2,r.sent().token]}})})}(r,e))},delete:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,eb(t=e.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(r=n.sent()))return[3,6];if(1!==r.registrationStatus)return[3,2];throw Y.create("delete-pending-registration");case 2:if(2!==r.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Y.create("app-offline");case 3:return[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:var a;return a=t.fid,r=Q(e)+"/"+a,n={method:"DELETE",headers:en(e,t)},[4,ei(function(){return fetch(r,n)})];case 1:if((i=o.sent()).ok)return[3,3];return[4,et("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}})})}(t,r)];case 4:return n.sent(),[4,em(t)];case 5:n.sent(),n.label=6;case 6:return[2]}})})}(r))},onIdChange:function(e){var t,n,i,o;return n=t=r.appConfig,ep(),i=es(n),(o=eu.get(i))||(o=new Set,eu.set(i,o)),o.add(e),function(){var r,n;r=es(t),(n=eu.get(r))&&(n.delete(e),0===n.size&&eu.delete(r),eh())}}}},"PUBLIC")),i.registerVersion("@firebase/installations",G);var eC=((_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',_["only-available-in-window"]="This method is available in a Window context.",_["only-available-in-sw"]="This method is available in a service worker context.",_["permission-default"]="The notification permission was not granted and dismissed instead.",_["permission-blocked"]="The notification permission was not granted and blocked instead.",_["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",_["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",_["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",_["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",_["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",_["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",_["token-update-no-token"]="FCM returned no token when updating the user to push.",_["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",_["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",_["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",_["invalid-vapid-key"]="The public VAPID key must be a string.",_["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",_),eA=new D.ErrorFactory("messaging","Messaging",eC),eP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eR="FCM_MSG",eO="google.c.a.c_id";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,U.__spreadArray)([],(0,U.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(o=v||(v={})).PUSH_RECEIVED="push-received",o.NOTIFICATION_CLICKED="notification-clicked";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ex="fcm_token_details_db",eN="fcm_token_object_Store",eD="firebase-messaging-store",eF=null;function eU(){return eF||(eF=(0,W.openDb)("firebase-messaging-database",1,function(e){0===e.oldVersion&&e.createObjectStore(eD)})),eF}function eL(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return t=eB(e),[4,eU()];case 1:return[4,i.sent().transaction(eD).objectStore(eD).get(t)];case 2:if(!(r=i.sent()))return[3,3];return[2,r];case 3:return[4,function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r=this;return(0,U.__generator)(this,function(n){switch(n.label){case 0:if(!("databases"in indexedDB))return[3,2];return[4,indexedDB.databases()];case 1:if(!n.sent().map(function(e){return e.name}).includes(ex))return[2,null];n.label=2;case 2:return t=null,[4,(0,W.openDb)(ex,5,function(n){return(0,U.__awaiter)(r,void 0,void 0,function(){var r,i,o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:if(n.oldVersion<2||!n.objectStoreNames.contains(eN))return[2];return[4,(r=n.transaction.objectStore(eN)).index("fcmSenderId").get(e)];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===n.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:eM(o.vapidKey)}}}else 3===n.oldVersion?t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:eM(o.auth),p256dh:eM(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:eM(o.vapidKey)}}:4===n.oldVersion&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:eM(o.auth),p256dh:eM(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:eM(o.vapidKey)}});return[2]}})})})];case 3:return n.sent().close(),[4,(0,W.deleteDb)(ex)];case 4:return n.sent(),[4,(0,W.deleteDb)("fcm_vapid_details_db")];case 5:return n.sent(),[4,(0,W.deleteDb)("undefined")];case 6:return n.sent(),[2,!function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?null:t]}})})}(e.appConfig.senderId)];case 4:if(!(n=i.sent()))return[3,6];return[4,ej(e,n)];case 5:return i.sent(),[2,n];case 6:return[2]}})})}function ej(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return r=eB(e),[4,eU()];case 1:return[4,(n=i.sent().transaction(eD,"readwrite")).objectStore(eD).put(t,r)];case 2:return i.sent(),[4,n.complete];case 3:return i.sent(),[2,t]}})})}function eB(e){return e.appConfig.appId}function eK(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return[4,eH(e)];case 1:r={method:"DELETE",headers:a.sent()},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(eq(e.appConfig)+"/"+t,r)];case 3:return[4,a.sent().json()];case 4:if((n=a.sent()).error)throw i=n.error.message,eA.create("token-unsubscribe-failed",{errorInfo:i});return[3,6];case 5:throw o=a.sent(),eA.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function eq(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function eH(e){var t=e.appConfig,r=e.installations;return(0,U.__awaiter)(this,void 0,void 0,function(){var e;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,r.getToken()];case 1:return e=n.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}})})}function eV(e){var t=e.p256dh,r=e.auth,n=e.endpoint,i=e.vapidKey,o={web:{endpoint:n,auth:r,p256dh:t}};return i!==eP&&(o.web.applicationPubKey=i),o}function ez(e,t,r){return(0,U.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw eA.create("permission-blocked");return[4,function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,e.pushManager.getSubscription()];case 1:if(r=n.sent())return[2,r];return[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){for(var t="=".repeat((4-e.length%4)%4),r=atob((e+t).replace(/\-/g,"+").replace(/_/g,"/")),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}(t)})]}})})}(t,r)];case 1:return n=a.sent(),[4,eL(e)];case 2:if(i=a.sent(),o={vapidKey:r,swScope:t.scope,endpoint:n.endpoint,auth:eM(n.getKey("auth")),p256dh:eM(n.getKey("p256dh"))},i)return[3,3];return[2,eG(e,o)];case 3:var s,u,c,l,f,p;if(s=i.subscriptionOptions,c=(u=o).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,f=u.auth===s.auth,p=u.p256dh===s.p256dh,c&&l&&f&&p)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,eK(e,i.token)];case 5:return a.sent(),[3,7];case 6:return console.warn(a.sent()),[3,7];case 7:return[2,eG(e,o)];case 8:if(Date.now()>=i.createTime+6048e5)return[2,function(e,t,r){return(0,U.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return[4,eH(e)];case 1:r={method:"PATCH",headers:a.sent(),body:JSON.stringify(eV(t.subscriptionOptions))},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(eq(e.appConfig)+"/"+t.token,r)];case 3:return[4,a.sent().json()];case 4:return n=a.sent(),[3,6];case 5:throw i=a.sent(),eA.create("token-update-failed",{errorInfo:i});case 6:if(n.error)throw o=n.error.message,eA.create("token-update-failed",{errorInfo:o});if(!n.token)throw eA.create("token-update-no-token");return[2,n.token]}})})}(t,e)];case 1:return n=o.sent(),[4,ej(t,(0,U.__assign)((0,U.__assign)({},e),{token:n,createTime:Date.now()}))];case 2:return o.sent(),[2,n];case 3:return i=o.sent(),[4,eW(t,r)];case 4:throw o.sent(),i;case 5:return[2]}})})}({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)];return[2,i.token];case 9:return[2]}})})}function eW(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,eL(e)];case 1:if(!(r=i.sent()))return[3,4];return[4,eK(e,r.token)];case 2:return i.sent(),[4,function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return t=eB(e),[4,eU()];case 1:return[4,(r=n.sent().transaction(eD,"readwrite")).objectStore(eD).delete(t)];case 2:return n.sent(),[4,r.complete];case 3:return n.sent(),[2]}})})}(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:if(n=i.sent())return[2,n.unsubscribe()];return[2,!0]}})})}function eG(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return[4,eH(e)];case 1:r={method:"POST",headers:a.sent(),body:JSON.stringify(eV(t))},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(eq(e.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return n=a.sent(),[3,6];case 5:throw i=a.sent(),eA.create("token-subscribe-failed",{errorInfo:i});case 6:if(n.error)throw o=n.error.message,eA.create("token-subscribe-failed",{errorInfo:o});if(!n.token)throw eA.create("token-subscribe-no-token");return[2,n.token]}})})}(e,t)];case 1:return[4,ej(e,r={token:n.sent(),createTime:Date.now(),subscriptionOptions:t})];case 2:return n.sent(),[2,r.token]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(e){return"object"==typeof e&&!!e&&eO in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eJ=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(e){e.waitUntil(t.onPush(e))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(t.onSubChange(e))}),self.addEventListener("notificationclick",function(e){e.waitUntil(t.onNotificationClick(e))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw eA.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:if(this.vapidKey)return[3,2];return[4,eL(this.firebaseDependencies)];case 1:r=n.sent(),this.vapidKey=null!==(t=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:eP,n.label=2;case 2:return[2,ez(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return eW(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw eA.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw eA.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw eA.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw eA.create("only-available-in-window")},e.prototype.onMessage=function(){throw eA.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw eA.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,U.__generator)(this,function(i){var o,a,s,u,c,l,f,p,h,d;switch(i.label){case 0:if(!(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e)))return console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2];return[4,eY()];case 1:if((r=i.sent()).some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))return[2,function(e,t){var r,n;t.isFirebaseMessaging=!0,t.messageType=v.PUSH_RECEIVED;try{for(var i=(0,U.__values)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}(r,t)];if(n=!1,!t.notification)return[3,3];return[4,(l=(o=t,(s=(0,U.__assign)({},o.notification)).data=((a={})[eR]=o,a),u=s).actions,f=Notification.maxActions,l&&f&&l.length>f&&console.warn("This browser only supports "+f+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(c=u.title)&&void 0!==c?c:"",u))];case 2:i.sent(),n=!0,i.label=3;case 3:if(!0===n&&!1===this.isOnBackgroundMessageUsed)return[2];return this.bgMessageHandler&&(function(e,t){if(t.notification){e.notification={};var r=t.notification.title;r&&(e.notification.title=r);var n=t.notification.body;n&&(e.notification.body=n);var i=t.notification.image;i&&(e.notification.image=i)}}(h={from:(p=t).from,collapseKey:p.collapse_key,messageId:p.fcm_message_id},p),d=h,p.data&&(d.data=p.data),function(e,t){if(t.fcmOptions){e.fcmOptions={};var r=t.fcmOptions.link;r&&(e.fcmOptions.link=r);var n=t.fcmOptions.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}}(h,p),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(h):this.bgMessageHandler.next(h)),[4,eX(1e3)];case 4:return i.sent(),[2]}})})},e.prototype.onSubChange=function(e){var t,r;return(0,U.__awaiter)(this,void 0,void 0,function(){var n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:if(e.newSubscription)return[3,2];return[4,eW(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,eL(this.firebaseDependencies)];case 3:return n=i.sent(),[4,eW(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,ez(this.firebaseDependencies,self.registration,null!==(r=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==r?r:eP)]}})})},e.prototype.onNotificationClick=function(e){var t,r;return(0,U.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return(0,U.__generator)(this,function(u){switch(u.label){case 0:var c,l,f,p,h;if(!(n=null===(r=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===r?void 0:r[eR])||e.action||(e.stopImmediatePropagation(),e.notification.close(),!(i=(null!==(f=null===(l=(c=n).fcmOptions)||void 0===l?void 0:l.link)&&void 0!==f?f:null===(p=c.notification)||void 0===p?void 0:p.click_action)||(e$(c.data)?self.location.origin:null))||(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host)))return[2];return[4,function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,o,a,s;return(0,U.__generator)(this,function(u){switch(u.label){case 0:return[4,eY()];case 1:t=u.sent();try{for(n=(r=(0,U.__values)(t)).next();!n.done;n=r.next())if(i=n.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(e){a={error:e}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}}return[2,null]}})})}(o)];case 1:if(s=u.sent())return[3,4];return[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,eX(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:if(!s)return[2];return n.messageType=v.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,s.postMessage(n)]}})})},e}();function eY(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eZ=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(e){return t.messageEventListener(e)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:var i;if(!(t=e.data).isFirebaseMessaging)return[2];if(this.onMessageCallback&&t.messageType===v.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},t)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},t))),!(e$(r=t.data)&&"1"===r["google.c.a.e"]))return[3,2];return[4,this.logEvent(t.messageType,r)];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:if("default"!==Notification.permission)return[3,2];return[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw eA.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,ez(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=eP),[2]})})},e.prototype.updateSwReg=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!(!e&&!this.swRegistration))return[3,2];return[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw eA.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},e.prototype.registerDefaultSw=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=r.sent(),eA.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:if(this.swRegistration)return[3,2];return[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,eW(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:if("granted"===Notification.permission)return[2];return[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];if("denied"===e)throw eA.create("permission-blocked");throw eA.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw eA.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw eA.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw eA.create("invalid-sw-registration");if(this.swRegistration)throw eA.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw eA.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw eA.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return r=function(e){switch(e){case v.NOTIFICATION_CLICKED:return"notification_open";case v.PUSH_RECEIVED:return"notification_foreground";default:throw Error()}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return n.sent().logEvent(r,{message_id:t[eO],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function eQ(e){return eA.create("missing-app-config-values",{valueName:e})}function e0(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}x.default.INTERNAL.registerComponent(new L.Component("messaging",function(e){var t=e.getProvider("app").getImmediate(),r=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e||!e.options)throw eQ("App Configuration Object");if(!e.name)throw eQ("App Name");var t,r,n=e.options;try{for(var i=(0,U.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!n[a])throw eQ(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t),n={app:t,appConfig:r,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!e0())throw eA.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new eJ(n):new eZ(n)},"PUBLIC").setServiceProps({isSupported:e0}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e1="firebasestorage.googleapis.com",e2="storageBucket",e4=function(e){function t(r,n){var i=e.call(this,e3(r),"Firebase Storage: "+n+" ("+e3(r)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,U.__extends)(t,e),t.prototype._codeEquals=function(e){return e3(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(D.FirebaseError);function e3(e){return"storage/"+e}function e6(){return new e4("unknown","An unknown error occurred, please check the error payload for server response.")}function e5(){return new e4("canceled","User canceled the upload/download.")}function e8(){return new e4("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function e9(e){return new e4("invalid-argument",e)}function e7(){return new e4("app-deleted","The Firebase app was deleted.")}function te(e){return new e4("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tt(e,t){return new e4("invalid-format","String does not match format '"+e+"': "+t)}function tr(e){throw new e4("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ti=function(e,t){this.data=e,this.contentType=t||null};function to(e,t){switch(e){case tn.RAW:return new ti(ta(t));case tn.BASE64:case tn.BASE64URL:return new ti(ts(e,t));case tn.DATA_URL:var r;return new ti((r=new tu(t)).base64?ts(tn.BASE64,r.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw tt(tn.DATA_URL,"Malformed data URL.")}return ta(t)}(r.rest),new tu(t).contentType)}throw e6()}function ta(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<=127?t.push(n):n<=2047?t.push(192|n>>6,128|63&n):(64512&n)==55296?r<e.length-1&&(64512&e.charCodeAt(r+1))==56320?(n=65536|(1023&n)<<10|1023&e.charCodeAt(++r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)):t.push(239,191,189):(64512&n)==56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function ts(e,t){switch(e){case tn.BASE64:var r,n,i=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(i||o){var a=i?"-":"_";throw tt(e,"Invalid character '"+a+"' found: is it base64url encoded?")}break;case tn.BASE64URL:var s=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(s||u){var a=s?"+":"/";throw tt(e,"Invalid character '"+a+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}try{r=t,n=atob(r)}catch(t){throw tt(e,"Invalid character found")}for(var c=new Uint8Array(n.length),l=0;l<n.length;l++)c[l]=n.charCodeAt(l);return c}var tu=function(e){this.base64=!1,this.contentType=null;var t,r=e.match(/^data:([^,]+)?,/);if(null===r)throw tt(tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=r[1]||null;null!=n&&(this.base64=(t=";base64",n.length>=t.length&&n.substring(n.length-t.length)===t),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)},tc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tl(e){switch(e){case"running":case"pausing":case"canceling":return tc.RUNNING;case"paused":return tc.PAUSED;case"success":return tc.SUCCESS;case"canceled":return tc.CANCELED;default:return tc.ERROR}}(a=m||(m={}))[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=m.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=m.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=m.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(e,t,r,n){if(this.sent_)throw tr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==n)for(var i in n)n.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,n[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw tr("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw tr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}},e.prototype.getResponseText=function(){if(!this.sent_)throw tr("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),tp=function(){function e(){}return e.prototype.createConnection=function(){return new tf},e}(),th=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,r){var n;try{n=e.makeFromUrl(t,r)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new e4("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,r){var n=null,i="([A-Za-z0-9.\\-_]+)",o=RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=r.replace(/[.]/g,"\\."),u=RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),c=RegExp("^https?://"+(r===e1?"(?:storage.googleapis.com|storage.cloud.google.com)":r)+"/"+i+"/([^?#]*)","i"),l=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:u,indices:{bucket:1,path:3},postModify:a},{regex:c,indices:{bucket:1,path:2},postModify:a}],f=0;f<l.length;f++){var p=l[f],h=p.regex.exec(t);if(h){var d=h[p.indices.bucket],g=h[p.indices.path];g||(g=""),n=new e(d,g),p.postModify(n);break}}if(null==n)throw new e4("invalid-url","Invalid URL '"+t+"'.");return n},e}(),td=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function tg(e){return"string"==typeof e||e instanceof String}function t_(e){return tv()&&e instanceof Blob}function tv(){return"undefined"!=typeof Blob}function tm(e,t,r,n){if(n<t)throw e9("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(n>r)throw e9("Invalid value for '"+e+"'. Expected "+r+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(e,t){var r=t.match(/^(\w+):\/\/.+/),n=null==r?void 0:r[1],i=t;return null==n&&(i="https://"+t),i+"/v0"+e}function ty(e){var t=encodeURIComponent,r="?";for(var n in e)e.hasOwnProperty(n)&&(r=r+(t(n)+"=")+t(e[n])+"&");return r.slice(0,-1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tw=function(){function e(e,t,r,n,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=r,this.body_=n,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){var e=this;function t(t,r){var n=e.resolve_,i=e.reject_,o=r.connection;if(r.wasSuccessCode)try{var a=e.callback_(o,o.getResponseText());void 0!==a?n(a):n()}catch(e){i(e)}else if(null!==o){var s=e6();s.serverResponse=o.getResponseText(),i(e.errorCallback_?e.errorCallback_(o,s):s)}else if(r.canceled){var s=e.appDelete_?e7():e5();i(s)}else{var s=new e4("retry-limit-exceeded","Max retry time for operation exceeded, please try again.");i(s)}}this.canceled_?t(!1,new tk(!1,null,!0)):this.backoffId_=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t,r){var n=1,i=null,o=!1,a=0,s=!1;function u(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];s||(s=!0,t.apply(null,e))}function c(t){i=setTimeout(function(){i=null,e(l,2===a)},t)}function l(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!s){if(e||2===a||o){u.call.apply(u,(0,U.__spreadArray)([null,e],r));return}n<64&&(n*=2),1===a?(a=2,t=0):t=(n+Math.random())*1e3,c(t)}}var f=!1;function p(e){!f&&(f=!0,!s&&(null!==i?(e||(a=2),clearTimeout(i),c(0)):e||(a=1)))}return c(0),setTimeout(function(){o=!0,p(!0)},r),p}(function(t,r){if(r){t(!1,new tk(!1,null,!0));return}var n=e.pool_.createConnection();function i(t){var r=t.loaded,n=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(r,n)}e.pendingConnection_=n,null!==e.progressCallback_&&n.addUploadProgressListener(i),n.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingConnection_=null;var r=n.getErrorCode()===m.NO_ERROR,o=n.getStatus();if(!r||e.isRetryStatusCode_(o)){var a=n.getErrorCode()===m.ABORT;t(!1,new tk(!1,null,a));return}var s=-1!==e.successCodes_.indexOf(o);t(!0,new tk(s,n))})},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return e>=500&&e<600||t||r},e}(),tk=function(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r};function tT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==r){for(var n=new r,i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}if(tv())return new Blob(e);throw new e4("unsupported-environment","This browser doesn't seem to support creating Blobs")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tI=function(){function e(e,t){var r=0,n="";t_(e)?(this.data_=e,r=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=n}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,r){if(t_(this.data_)){var n,i=(n=this.data_).webkitSlice?n.webkitSlice(t,r):n.mozSlice?n.mozSlice(t,r):n.slice?n.slice(t,r):null;return null===i?null:new e(i)}var o=new Uint8Array(this.data_.buffer,t,r-t);return new e(o,!0)},e.getBlob=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(tv()){var n=t.map(function(t){return t instanceof e?t.data_:t});return new e(tT.apply(null,n))}var i=t.map(function(e){return tg(e)?to(tn.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e){var t,r;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(r=t)||Array.isArray(r)?null:t}function tS(e){var t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e,t){return t}var tA=function(e,t,r,n){this.server=e,this.local=t||e,this.writable=!!r,this.xform=n||tC},tP=null;function tR(){if(tP)return tP;var e=[];e.push(new tA("bucket")),e.push(new tA("generation")),e.push(new tA("metageneration")),e.push(new tA("name","fullPath",!0));var t=new tA("name");t.xform=function(e,t){return!tg(t)||t.length<2?t:tS(t)},e.push(t);var r=new tA("size");return r.xform=function(e,t){return void 0!==t?Number(t):t},e.push(r),e.push(new tA("timeCreated")),e.push(new tA("updated")),e.push(new tA("md5Hash",null,!0)),e.push(new tA("cacheControl",null,!0)),e.push(new tA("contentDisposition",null,!0)),e.push(new tA("contentEncoding",null,!0)),e.push(new tA("contentLanguage",null,!0)),e.push(new tA("contentType",null,!0)),e.push(new tA("metadata","customMetadata",!0)),tP=e}function tO(e,t,r){var n=tE(t);return null===n?null:function(e,t,r){var n={};n.type="file";for(var i=r.length,o=0;o<i;o++){var a=r[o];n[a.local]=a.xform(n,t[a.server])}return Object.defineProperty(n,"ref",{get:function(){var t=n.bucket,r=n.fullPath,i=new th(t,r);return e._makeStorageReference(i)}}),n}(e,n,r)}function tM(e,t){for(var r={},n=t.length,i=0;i<n;i++){var o=t[i];o.writable&&(r[o.server]=e[o.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tx="prefixes",tN="items",tD=function(e,t,r,n){this.url=e,this.method=t,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(e){if(!e)throw e6()}function tU(e,t){return function(r,n){var i=tO(e,n,t);return tF(null!==i),i}}function tL(e){return function(t,r){var n,i,o;return 401===t.getStatus()?n=t.getResponseText().includes("Firebase App Check token is invalid")?new e4("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new e4("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,n=new e4("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,n=new e4("unauthorized","User does not have permission to access '"+o+"'.")):n=r,n.serverResponse=r.serverResponse,n}}function tj(e){var t=tL(e);return function(r,n){var i,o=t(r,n);return 404===r.getStatus()&&(i=e.path,o=new e4("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=n.serverResponse,o}}function tB(e,t,r){var n=tb(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new tD(n,"GET",tU(e,r),i);return o.errorHandler=tj(t),o}function tK(e,t,r){var n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=t&&t.type()||"application/octet-stream"),n}var tq=function(e,t,r,n){this.current=e,this.total=t,this.finalized=!!r,this.metadata=n||null};function tH(e,t){var r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){tF(!1)}return tF(!!r&&-1!==(t||["active"]).indexOf(r)),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tV=function(e,t,r){"function"==typeof e||null!=t||null!=r?(this.next=e,this.error=t,this.complete=r):(this.next=e.next,this.error=e.error,this.complete=e.complete)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tW=function(){function e(e,t,r){var n=this;void 0===r&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=tR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){n._request=void 0,n._chunkMultiplier=1,e._codeEquals("canceled")?(n._needToFetchStatus=!0,n.completeTransitions_()):(n._error=e,n._transition("error"))},this._metadataErrorHandler=function(e){n._request=void 0,e._codeEquals("canceled")?n.completeTransitions_():(n._error=e,n._transition("error"))},this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t,n._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(r){return e._updateProgress(t+r)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var n=r[0],i=r[1];switch(t._state){case"running":e(n,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,r){var n,i,o,a,s,u,c,l,f,p,h,d,g,_=(n=e._ref.storage,i=e._ref._location,o=e._mappings,a=e._blob,s=e._metadata,u=i.bucketOnlyServerUrl(),l={name:(c=tK(i,a,s)).fullPath},f=tb(u,n.host),p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+a.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},h=tM(c,o),d=n.maxUploadRetryTime,(g=new tD(f,"POST",function(e){var t;tH(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){tF(!1)}return tF(tg(t)),t},d)).urlParams=l,g.headers=p,g.body=h,g.errorHandler=tL(i),g),v=e._ref.storage._makeRequest(_,t,r);e._request=v,v.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(r,n){var i,o,a,s,u,c=(i=e._ref.storage,o=e._ref._location,a=e._blob,s=i.maxUploadRetryTime,(u=new tD(t,"POST",function(e){var t=tH(e,["active","final"]),r=null;try{r=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){tF(!1)}r||tF(!1);var n=Number(r);return tF(!isNaN(n)),new tq(n,a.size(),"final"===t)},s)).headers={"X-Goog-Upload-Command":"query"},u.errorHandler=tL(o),u),l=e._ref.storage._makeRequest(c,r,n);e._request=l,l.getPromise().then(function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,r=new tq(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(function(i,o){try{a=function(e,t,r,n,i,o,a,s){var u=new tq(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=n.size()),n.size()!==u.total)throw new e4("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,p=f+l,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=n.slice(f,p);if(null===d)throw e8();var g=t.maxUploadRetryTime,_=new tD(r,"POST",function(e,r){var i,a=tH(e,["active","final"]),s=u.current+l,c=n.size();return i="final"===a?tU(t,o)(e,r):null,new tq(s,c,"final"===a,i)},g);return _.headers=h,_.body=d.uploadData(),_.progressCallback=s||null,_.errorHandler=tL(e),_}(e._ref._location,e._ref.storage,n,e._blob,t,e._mappings,r,e._makeProgressCallback())}catch(t){e._error=t,e._transition("error");return}var a,s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,r){var n=tB(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(n,t,r);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,r){var n=function(e,t,r,n,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=tK(t,n,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tM(u,r)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l=tI.getBlob(c,n,"\r\n--"+s+"--");if(null===l)throw e8();var f={name:u.fullPath},p=tb(o,e.host),h=e.maxUploadRetryTime,d=new tD(p,"POST",tU(e,r),h);return d.urlParams=f,d.headers=a,d.body=l.uploadData(),d.errorHandler=tL(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(n,t,r);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=e5(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=tl(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,r,n){var i=this,o=new tV(t,r,n);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(tl(this._state)){case tc.SUCCESS:tz(this._resolve.bind(null,this.snapshot))();break;case tc.CANCELED:case tc.ERROR:tz(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(tl(this._state)){case tc.RUNNING:case tc.PAUSED:e.next&&tz(e.next.bind(e,this.snapshot))();break;case tc.SUCCESS:e.complete&&tz(e.complete.bind(e))();break;case tc.CANCELED:case tc.ERROR:default:e.error&&tz(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),tG=function(){function e(e,t){this._service=e,t instanceof th?this._location=t:this._location=th.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,r){return new e(t,r)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new th(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return tS(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var r=new th(this._location.bucket,t);return new e(this._service,r)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw te(e)},e}();function t$(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:var i,o,a,s,u,c,l,f,p;return null!=t&&"number"==typeof t.maxResults&&tm("options.maxResults",1,1e3,t.maxResults),r=t||{},i=e.storage,o=e._location,a=r.pageToken,s=r.maxResults,u={},o.isRoot?u.prefix="":u.prefix=o.path+"/",u.delimiter="/",a&&(u.pageToken=a),s&&(u.maxResults=s),c=tb(o.bucketOnlyServerUrl(),i.host),l=i.maxOperationRetryTime,(p=new tD(c,"GET",(f=o.bucket,function(e,t){var r,n=null===(r=tE(t))?null:function(e,t,r){var n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[tx])for(var i=0,o=r[tx];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new th(t,a));n.prefixes.push(s)}if(r[tN])for(var u=0,c=r[tN];u<c.length;u++){var l=c[u],s=e._makeStorageReference(new th(t,l.name));n.items.push(s)}return n}(i,f,r);return tF(null!==n),n}),l)).urlParams=u,p.errorHandler=tL(o),[4,e.storage.makeRequestWithTokens(p)];case 1:return[2,n.sent().getPromise()]}})})}function tX(e,t){var r,n,i=(r=e._location.path,n=t.split("/").filter(function(e){return e.length>0}).join("/"),0===r.length?n:r+"/"+n),o=new th(e._location.bucket,i);return new tG(e.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tJ(e){return/^[A-Za-z]+:\/\//.test(e)}function tY(e,t){var r=null==t?void 0:t[e2];return null==r?null:th.makeFromBucketSpec(r,e)}var tZ=function(){function e(e,t,r,n,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._pool=n,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=e1,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=i?this._bucket=th.makeFromBucketSpec(i,this._host):this._bucket=tY(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=th.makeFromBucketSpec(this._url,e):this._bucket=tY(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){tm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){tm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,U.__generator)(this,function(r){switch(r.label){case 0:if(this._overrideAuthToken)return[2,this._overrideAuthToken];if(!(e=this._authProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:if(null!==(t=r.sent()))return[2,t.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!(e=this._appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new tG(this,e)},e.prototype._makeRequest=function(e,t,r){var n,i,o,a,s,u,c,l,f,p=this;if(this._deleted)return new td(e7());var h=(n=this._appId,i=this._pool,o=this._firebaseVersion,a=ty(e.urlParams),s=e.url+a,c=u=Object.assign({},e.headers),n&&(c["X-Firebase-GMPID"]=n),l=u,null!==t&&t.length>0&&(l.Authorization="Firebase "+t),u["X-Firebase-Storage-Version"]="webjs/"+(null!=o?o:"AppManager"),f=u,null!==r&&(f["X-Firebase-AppCheck"]=r),new tw(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i));return this._requests.add(h),h.getPromise().then(function(){return p._requests.delete(h)},function(){return p._requests.delete(h)}),h},e.prototype.makeRequestWithTokens=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return r=(t=i.sent())[0],n=t[1],[2,this._makeRequest(e,r,n)]}})})},e}();function tQ(e,t){return function(e,t){if(!(t&&tJ(t)))return function e(t,r){if(t instanceof tZ){if(null==t._bucket)throw new e4("no-default-bucket","No default bucket found. Did you set the '"+e2+"' property when initializing the app?");var n=new tG(t,t._bucket);return null!=r?e(n,r):n}return void 0!==r?tX(t,r):t}(e,t);if(e instanceof tZ)return new tG(e,t);throw e9("To use ref(service, url), the first argument must be a Storage instance.")}(e=(0,D.getModularInstance)(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t0=function(){function e(e,t,r){this._delegate=e,this.task=t,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),t1=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new t0(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var r=this;return this._delegate.then(function(t){if(e)return e(new t0(t,r,r._ref))},t)},e.prototype.on=function(e,t,r,n){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new t0(e,i,i._ref))}:{next:t.next?function(e){return t.next(new t0(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,n||void 0)},e}(),t2=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new t4(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new t4(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),t4=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var r=tX(this._delegate,t);return new e(r,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){var r,n;return this._throwIfRoot("put"),new t1((r=this._delegate,(n=r=(0,D.getModularInstance)(r))._throwIfRoot("uploadBytesResumable"),new tW(n,new tI(e),t)),this)},e.prototype.putString=function(e,t,r){void 0===t&&(t=tn.RAW),this._throwIfRoot("putString");var n=to(t,e),i=(0,U.__assign)({},r);return null==i.contentType&&null!=n.contentType&&(i.contentType=n.contentType),new t1(new tW(this._delegate,new tI(n.data,!0),i),this)},e.prototype.listAll=function(){var e,t,r=this;return(e=this._delegate,(function e(t,r,n){return(0,U.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:return[4,t$(t,{pageToken:n})];case 1:if(i=s.sent(),(o=r.prefixes).push.apply(o,i.prefixes),(a=r.items).push.apply(a,i.items),!(null!=i.nextPageToken))return[3,3];return[4,e(t,r,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})})(e=(0,D.getModularInstance)(e),t={prefixes:[],items:[]}).then(function(){return t})).then(function(e){return new t2(e,r.storage)})},e.prototype.list=function(e){var t,r=this;return(t=this._delegate,t$(t=(0,D.getModularInstance)(t),e||void 0)).then(function(e){return new t2(e,r.storage)})},e.prototype.getMetadata=function(){var e;return e=this._delegate,function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),t=tB(e.storage,e._location,tR()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,r.sent().getPromise()]}})})}(e=(0,D.getModularInstance)(e))},e.prototype.updateMetadata=function(e){var t;return t=this._delegate,function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(r){switch(r.label){case 0:var n,i,o,a,s,u,c;return e._throwIfRoot("updateMetadata"),n=e.storage,i=e._location,o=tR(),a=tb(i.fullServerUrl(),n.host),s=tM(t,o),u=n.maxOperationRetryTime,(c=new tD(a,"PATCH",tU(n,o),u)).headers={"Content-Type":"application/json; charset=utf-8"},c.body=s,c.errorHandler=tj(i),[4,e.storage.makeRequestWithTokens(c)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,D.getModularInstance)(t),e)},e.prototype.getDownloadURL=function(){var e;return e=this._delegate,function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:var r,n,i,o,a,s;return e._throwIfRoot("getDownloadURL"),r=e.storage,n=e._location,i=tR(),o=tb(n.fullServerUrl(),r.host),a=r.maxOperationRetryTime,(s=new tD(o,"GET",function(e,t){var n=tO(r,t,i);return tF(null!==n),function(e,t,r){var n=tE(t);if(null===n||!tg(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(t){var n=e.bucket,i=e.fullPath;return tb("/b/"+o(n)+"/o/"+o(i),r)+ty({alt:"media",token:t})})[0]}(n,t,r.host)},a)).errorHandler=tj(n),[4,e.storage.makeRequestWithTokens(s)];case 1:return[2,t.sent().getPromise().then(function(e){if(null===e)throw new e4("no-download-url","The given file does not have any download URLs.");return e})]}})})}(e=(0,D.getModularInstance)(e))},e.prototype.delete=function(){var e;return this._throwIfRoot("delete"),e=this._delegate,function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:var r,n,i,o,a;return e._throwIfRoot("deleteObject"),r=e.storage,i=tb((n=e._location).fullServerUrl(),r.host),o=r.maxOperationRetryTime,(a=new tD(i,"DELETE",function(e,t){},o)).successCodes=[200,204],a.errorHandler=tj(n),[4,e.storage.makeRequestWithTokens(a)];case 1:return[2,t.sent().getPromise()]}})})}(e=(0,D.getModularInstance)(e))},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw te(e)},e}(),t3=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(tJ(e))throw e9("ref() expected a child path but got a URL, use refFromURL instead.");return new t4(tQ(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!tJ(e))throw e9("refFromURL() expected a full URL but got a child path, use ref() instead.");try{th.makeFromUrl(e,this._delegate.host)}catch(e){throw e9("refFromUrl() expected a valid full URL but got an invalid one.")}return new t4(tQ(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,r){var n,i,o,a,s;void 0===r&&(r={}),n=this._delegate,void 0===(i=r)&&(i={}),o=n,void 0===(a=i)&&(a={}),o.host="http://"+e+":"+t,(s=a.mockUserToken)&&(o._overrideAuthToken="string"==typeof s?s:(0,D.createMockUserToken)(s,o.app.options.projectId))},e}();(s=x.default).INTERNAL.registerComponent(new L.Component("storage",function(e,t){var r=t.instanceIdentifier,n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new t3(n,new tZ(n,i,o,new tp,r,x.default.SDK_VERSION))},"PUBLIC").setServiceProps({TaskState:tc,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:tn,Storage:tZ,Reference:t4}).setMultipleInstances(!0)),s.registerVersion("@firebase/storage","0.7.1");var t6="0.4.18",t5="FB-PERF-TRACE-MEASURE",t8="_wt_",t9="_fcp",t7="_fid",re="@firebase/performance/config",rt="@firebase/performance/configexpire",rr="Performance",rn=((b={})["trace started"]="Trace {$traceName} was started before.",b["trace stopped"]="Trace {$traceName} is not running.",b["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",b["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",b["no window"]="Window is not available.",b["no app id"]="App id is not available.",b["no project id"]="Project id is not available.",b["no api key"]="Api key is not available.",b["invalid cc log"]="Attempted to queue invalid cc event",b["FB not default"]="Performance can only start when Firebase app instance is the default one.",b["RC response not ok"]="RC response is not ok",b["invalid attribute name"]="Attribute name {$attributeName} is invalid.",b["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",b["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",b["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",b),ri=new D.ErrorFactory("performance",rr,rn),ro=new F.Logger(rr);ro.logLevel=F.LogLevel.INFO;var ra=function(){function e(e){if(this.window=e,!e)throw ri.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,r){this.performance&&this.performance.measure&&this.performance.measure(e,t,r)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,D.isIndexedDBAvailable)()||(ro.info("IndexedDB is not supported by current browswer"),!1):(ro.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){for(var r=0,n=e.getEntries();r<n.length;r++)t(n[r])}).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===y&&(y=new e(w)),y},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e,t){var r=e.length-t.length;if(r<0||r>1)throw ri.create("invalid String merger input");for(var n=[],i=0;i<e.length;i++)n.push(e.charAt(i)),t.length>i&&n.push(t.charAt(i));return n.join("")}var ru=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=rs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=rs("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw ri.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw ri.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw ri.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===k&&(k=new e),k},e}();(u=I||(I={}))[u.UNKNOWN=0]="UNKNOWN",u[u.VISIBLE=1]="VISIBLE",u[u.HIDDEN=2]="HIDDEN";var rc=["firebase_","google_","ga_"],rl=RegExp("^[a-zA-Z]\\w*$");function rf(){switch(ra.getInstance().document.visibilityState){case"visible":return I.VISIBLE;case"hidden":return I.HIDDEN;default:return I.UNKNOWN}}var rp={loggingEnabled:!0};function rh(e){if(!e)return e;var t=ru.getInstance(),r=e.entries||{};return void 0!==r.fpr_enabled?t.loggingEnabled="true"===String(r.fpr_enabled):t.loggingEnabled=rp.loggingEnabled,r.fpr_log_source&&(t.logSource=Number(r.fpr_log_source)),r.fpr_log_endpoint_url&&(t.logEndPointUrl=r.fpr_log_endpoint_url),r.fpr_log_transport_key&&(t.transportKey=r.fpr_log_transport_key),void 0!==r.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(r.fpr_vc_network_request_sampling_rate)),void 0!==r.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(r.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=rd(t.tracesSamplingRate),t.logNetworkAfterSampling=rd(t.networkRequestsSamplingRate),e}function rd(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rg=1;function r_(){var e;return rg=2,E=E||(e=ra.getInstance().document,new Promise(function(t){if(e&&"complete"!==e.readyState){var r=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",r),t())};e.addEventListener("readystatechange",r)}else t()})).then(function(){var e;return(e=ru.getInstance().installationsService.getId()).then(function(e){T=e}),e}).then(function(e){var t,r;return(t=function(){var e=ra.getInstance().localStorage;if(e){var t=e.getItem(rt);if(t&&Number(t)>Date.now()){var r=e.getItem(re);if(r)try{return JSON.parse(r)}catch(e){return}}}}())?(rh(t),Promise.resolve()):((r=ru.getInstance().installationsService.getToken()).then(function(e){}),r).then(function(t){var r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+ru.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+ru.getInstance().getApiKey(),n=new Request(r,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:ru.getInstance().getAppId(),app_version:t6,sdk_version:"0.0.1"})});return fetch(n).then(function(e){if(e.ok)return e.json();throw ri.create("RC response not ok")})}).catch(function(){ro.info("Could not fetch config, will use default configs")}).then(rh).then(function(e){var t;return t=ra.getInstance().localStorage,void(e&&t&&(t.setItem(re,JSON.stringify(e)),t.setItem(rt,String(Date.now()+36e5*ru.getInstance().configTimeToLive))))},function(){})}).then(function(){rg=3},function(){rg=3})}var rv=3,rm=[],rb=!1;function ry(e,t){!S&&(S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e){if(!e.eventTime||!e.message)throw ri.create("invalid cc log");rm=(0,U.__spreadArray)((0,U.__spreadArray)([],rm),[e])}({message:rT.apply(void 0,e),eventTime:Date.now()})}),S(e,t)}function rw(e){var t=ru.getInstance();(t.instrumentationEnabled||!e.isAuto)&&(t.dataCollectionEnabled||e.isAuto)&&ra.getInstance().requiredApisAvailable()&&(!e.isAuto||rf()===I.VISIBLE)&&(3===rg?rk(e):r_().then(function(){return rk(e)},function(){return rk(e)}))}function rk(e){if(T){var t=ru.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(function(){return ry(e,1)},0)}}function rT(e,t){var r,n,i;return 0===t?(r={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},JSON.stringify({application_info:rI(),network_request_metric:r})):(n={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs},0!==Object.keys(e.counters).length&&(n.counters=e.counters),0!==Object.keys(i=e.getAttributes()).length&&(n.custom_attributes=i),JSON.stringify({application_info:rI(),trace_metric:n}))}function rI(){var e;return{google_app_id:ru.getInstance().getAppId(),app_instance_id:T,web_app_info:{sdk_version:t6,page_url:ra.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=ra.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:rf(),effective_connection_type:function(){var e=ra.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0}}var rE=["_fp",t9,t7],rS=function(){function e(e,t,r){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=ra.getInstance(),this.randomId=Math.floor(1e6*Math.random()),!this.isAuto&&(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=r||t5+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw ri.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw ri.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),rw(this)},e.prototype.record=function(e,t,r){if(e<=0)throw ri.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw ri.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=(0,U.__assign)({},r.attributes)),r&&r.metrics)for(var n=0,i=Object.keys(r.metrics);n<i.length;n++){var o=i[n];isNaN(Number(r.metrics[o]))||(this.counters[o]=Number(Math.floor(r.metrics[o])))}rw(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){var r,n;if(r=this.name,0!==e.length&&!(e.length>100)&&(r&&r.startsWith(t8)&&rE.indexOf(e)>-1||!e.startsWith("_")))this.counters[e]=((n=Math.floor(t))<t&&ro.info("Metric value should be an Integer, setting the value as : "+n+"."),n);else throw ri.create("invalid custom metric name",{customMetricName:e})},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var r=0!==e.length&&!(e.length>40)&&!rc.some(function(t){return e.startsWith(t)})&&!!e.match(rl),n=0!==t.length&&t.length<=100;if(r&&n){this.customAttributes[e]=t;return}if(!r)throw ri.create("invalid attribute name",{attributeName:e});if(!n)throw ri.create("invalid attribute value",{attributeValue:t})},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,U.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor((t.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,r,n){var i=ra.getInstance().getUrl();if(i){var o=new e(t8+i,!0),a=Math.floor(1e3*ra.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){var s=r.find(function(e){return"first-paint"===e.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=r.find(function(e){return"first-contentful-paint"===e.name});u&&u.startTime&&o.putMetric(t9,Math.floor(1e3*u.startTime)),n&&o.putMetric(t7,Math.floor(1e3*n))}rw(o)}},e.createUserTimingTrace=function(t){rw(new e(t,!1,t))},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){if(e&&void 0!==e.responseStart){var t=ra.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+t)*1e3),n=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,i=Math.floor((e.responseEnd-e.startTime)*1e3);!function(e){var t=ru.getInstance();if(t.instrumentationEnabled){var r=e.url,n=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];r!==n&&r!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return ry(e,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:n,timeToResponseCompletedUs:i})}}function rA(){T&&(setTimeout(function(){return function(){var e=ra.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){var n=setTimeout(function(){rS.createOobTrace(t,r),n=void 0},5e3);e.onFirstInputDelay(function(e){n&&(clearTimeout(n),rS.createOobTrace(t,r,e))})}else rS.createOobTrace(t,r)}()},0),setTimeout(function(){return function(){for(var e=ra.getInstance(),t=e.getEntriesByType("resource"),r=0;r<t.length;r++)rC(t[r]);e.setupObserver("resource",rC)}()},0),setTimeout(function(){return function(){for(var e=ra.getInstance(),t=e.getEntriesByType("measure"),r=0;r<t.length;r++)rP(t[r]);e.setupObserver("measure",rP)}()},0))}function rP(e){var t=e.name;t.substring(0,t5.length)!==t5&&rS.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rR=function(){function e(e){this.app=e,ra.getInstance().requiredApisAvailable()&&(0,D.validateIndexedDBOpenable)().then(function(e){e&&(rb||(function e(t){setTimeout(function(){if(0!==rv){var t,r,n,i;if(!rm.length)return e(1e4);r=(t=rm.splice(0,1e3)).map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}),(n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ru.getInstance().logSource,log_event:r},(i=ru.getInstance().getFlTransportFullUrl(),fetch(i,{method:"POST",body:JSON.stringify(n)})).then(function(e){return e.ok||ro.info("Call to Firebase backend failed."),e.json()}).then(function(r){var n=Number(r.nextRequestWaitMillis),i=1e4;isNaN(n)||(i=Math.max(n,i));var o=r.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(rm=(0,U.__spreadArray)((0,U.__spreadArray)([],t),rm),ro.info("Retry transport request later.")),rv=3,e(i)})).catch(function(){rm=(0,U.__spreadArray)((0,U.__spreadArray)([],t),rm),rv--,ro.info("Tries left: "+rv+"."),e(1e4)})}},t)}(5500),rb=!0),r_().then(rA,rA))}).catch(function(e){ro.info("Environment doesn't support IndexedDB: "+e)})}return e.prototype.trace=function(e){return new rS(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return ru.getInstance().instrumentationEnabled},set:function(e){ru.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return ru.getInstance().dataCollectionEnabled},set:function(e){ru.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();c=x.default,l=function(e,t){if("[DEFAULT]"!==e.name)throw ri.create("FB not default");if("undefined"==typeof window)throw ri.create("no window");return w=window,ru.getInstance().firebaseAppInstance=e,ru.getInstance().installationsService=t,new rR(e)},c.INTERNAL.registerComponent(new L.Component("performance",function(e){return l(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC")),c.registerVersion("@firebase/performance",t6);var rO="https://www.googletagmanager.com/gtag/js";(f=C||(C={})).EVENT="event",f.SET="set",f.CONFIG="config",(p=A||(A={})).ADD_SHIPPING_INFO="add_shipping_info",p.ADD_PAYMENT_INFO="add_payment_info",p.ADD_TO_CART="add_to_cart",p.ADD_TO_WISHLIST="add_to_wishlist",p.BEGIN_CHECKOUT="begin_checkout",p.CHECKOUT_PROGRESS="checkout_progress",p.EXCEPTION="exception",p.GENERATE_LEAD="generate_lead",p.LOGIN="login",p.PAGE_VIEW="page_view",p.PURCHASE="purchase",p.REFUND="refund",p.REMOVE_FROM_CART="remove_from_cart",p.SCREEN_VIEW="screen_view",p.SEARCH="search",p.SELECT_CONTENT="select_content",p.SELECT_ITEM="select_item",p.SELECT_PROMOTION="select_promotion",p.SET_CHECKOUT_OPTION="set_checkout_option",p.SHARE="share",p.SIGN_UP="sign_up",p.TIMING_COMPLETE="timing_complete",p.VIEW_CART="view_cart",p.VIEW_ITEM="view_item",p.VIEW_ITEM_LIST="view_item_list",p.VIEW_PROMOTION="view_promotion",p.VIEW_SEARCH_RESULTS="view_search_results";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rM=new F.Logger("@firebase/analytics"),rx=((P={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",P["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",P["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",P["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",P["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",P["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",P["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",P["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',P["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',P),rN=new D.ErrorFactory("analytics","Analytics",rx),rD=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}()),rF=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),rU={},rL=[],rj={},rB="dataLayer",rK="gtag",rq=!1,rH="analytics";(h=x.default).INTERNAL.registerComponent(new L.Component(rH,function(e){return function(e,t){!function(){var e=[];if((0,D.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,D.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"("+(t+1)+") "+e}).join(" "),r=rN.create("invalid-analytics-context",{errorInfo:t});rM.warn(r.message)}}();var r=e.options.appId;if(!r)throw rN.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)rM.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.');else throw rN.create("no-api-key")}if(null!=rU[r])throw rN.create("already-exists",{id:r});if(!rq){n=rB,i=[],Array.isArray(window[n])?i=window[n]:window[n]=i;var n,i,o,a,s,u,c=(o=rB,a=rK,s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[o].push(arguments)},window[a]&&"function"==typeof window[a]&&(s=window[a]),window[a]=(u=s,function(e,t,r){return(0,U.__awaiter)(this,void 0,void 0,function(){var n;return(0,U.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,6,,7]),e!==C.EVENT)return[3,2];return[4,function(e,t,r,n,i){return(0,U.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,f;return(0,U.__generator)(this,function(p){switch(p.label){case 0:if(p.trys.push([0,4,,5]),o=[],!(i&&i.send_to))return[3,2];return Array.isArray(a=i.send_to)||(a=[a]),[4,Promise.all(r)];case 1:for(c=0,s=p.sent(),u=function(e){var r=s.find(function(t){return t.measurementId===e}),n=r&&t[r.appId];if(!n)return o=[],"break";o.push(n)},l=a;c<l.length&&"break"!==u(l[c]);c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return p.sent(),e(C.EVENT,n,i||{}),[3,5];case 4:return f=p.sent(),rM.error(f),[3,5];case 5:return[2]}})})}(u,rU,rL,t,r)];case 1:case 3:return i.sent(),[3,5];case 2:if(e!==C.CONFIG)return[3,4];return[4,function(e,t,r,n,i,o){return(0,U.__awaiter)(this,void 0,void 0,function(){var a,s,u;return(0,U.__generator)(this,function(c){switch(c.label){case 0:a=n[i],c.label=1;case 1:if(c.trys.push([1,7,,8]),!a)return[3,3];return[4,t[a]];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(r)];case 4:if(!(s=c.sent().find(function(e){return e.measurementId===i})))return[3,6];return[4,t[s.appId]];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return u=c.sent(),rM.error(u),[3,8];case 8:return e(C.CONFIG,i,o),[2]}})})}(u,rU,rL,rj,t,r)];case 4:u(C.SET,t),i.label=5;case 5:return[3,7];case 6:return n=i.sent(),rM.error(n),[3,7];case 7:return[2]}})})}),{gtagCore:s,wrappedGtag:window[a]}),l=c.wrappedGtag,f=c.gtagCore;O=l,R=f,rq=!0}return rU[r]=function(e,t,r,n,i,o){return(0,U.__awaiter)(this,void 0,void 0,function(){var a,s,u,c,l,f;return(0,U.__generator)(this,function(p){switch(p.label){case 0:return(a=function(e,t,r){return void 0===t&&(t=rD),(0,U.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c=this;return(0,U.__generator)(this,function(l){if(i=(n=e.options).appId,o=n.apiKey,a=n.measurementId,!i)throw rN.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw rN.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new rF,setTimeout(function(){return(0,U.__awaiter)(c,void 0,void 0,function(){return(0,U.__generator)(this,function(e){return u.abort(),[2]})})},void 0!==r?r:6e4),[2,function e(t,r,n,i){var o=r.throttleEndTimeMillis,a=r.backoffCount;return void 0===i&&(i=rD),(0,U.__awaiter)(this,void 0,void 0,function(){var r,s,u,c,l,f,p;return(0,U.__generator)(this,function(h){switch(h.label){case 0:r=t.appId,s=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,new Promise(function(e,t){var r=setTimeout(e,Math.max(o-Date.now(),0));n.addEventListener(function(){clearTimeout(r),t(rN.create("fetch-throttle",{throttleEndTimeMillis:o}))})})];case 2:return h.sent(),[3,4];case 3:if(u=h.sent(),s)return rM.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:r,measurementId:s}];throw u;case 4:return h.trys.push([4,6,,7]),[4,function(e){var t;return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n,i,o,a,s;return(0,U.__generator)(this,function(u){switch(u.label){case 0:var c;return r=e.appId,n={method:"GET",headers:(c=e.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",r),[4,fetch(i,n)];case 1:if(!(200!==(o=u.sent()).status&&304!==o.status))return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return(null===(t=(s=u.sent()).error)||void 0===t?void 0:t.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw rN.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}})})}(t)];case 5:return c=h.sent(),i.deleteThrottleMetadata(r),[2,c];case 6:if(!function(e){if(!(e instanceof D.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l=h.sent())){if(i.deleteThrottleMetadata(r),s)return rM.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:r,measurementId:s}];throw l}return f=503===Number(l.customData.httpStatus)?(0,D.calculateBackoffMillis)(a,i.intervalMillis,30):(0,D.calculateBackoffMillis)(a,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:a+1},i.setThrottleMetadata(r,p),rM.debug("Calling attemptFetch again in "+f+" millis"),[2,e(t,p,n,i)];case 7:return[2]}})})}({appId:i,apiKey:o,measurementId:a},s,u,t)]})})}(e)).then(function(t){r[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&rM.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return rM.error(e)}),t.push(a),[4,Promise.all([a,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:if((0,D.isIndexedDBAvailable)())return[3,1];return rM.warn(rN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1];case 1:return t.trys.push([1,3,,4]),[4,(0,D.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),rM.warn(rN.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})})().then(function(e){return e?n.getId():void 0})])];case 1:if(u=(s=p.sent())[0],c=s[1],!function(){for(var e=window.document.getElementsByTagName("script"),t=0,r=Object.values(e);t<r.length;t++){var n=r[t];if(n.src&&n.src.includes(rO))return n}return null}()){var h,d;h=u.measurementId,(d=document.createElement("script")).src=rO+"?l="+o+"&id="+h,d.async=!0,document.head.appendChild(d)}return i("js",new Date),(f={}).origin="firebase",f.update=!0,l=f,null!=c&&(l.firebase_id=c),i(C.CONFIG,u.measurementId,l),[2,u.measurementId]}})})}(e,rL,rj,t,R,rB),{app:e,logEvent:function(e,t,n){/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e,t,r,n,i){return(0,U.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:if(!(i&&i.global))return[3,1];return e(C.EVENT,r,n),[2];case 1:return[4,t];case 2:o=s.sent(),a=(0,U.__assign)((0,U.__assign)({},n),{send_to:o}),e(C.EVENT,r,a),s.label=3;case 3:return[2]}})})})(O,rU[r],e,t,n).catch(function(e){return rM.error(e)})},setCurrentScreen:function(e,t){(function(e,t,r,n){return(0,U.__awaiter)(this,void 0,void 0,function(){var i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:if(!(n&&n.global))return[3,1];return e(C.SET,{screen_name:r}),[2,Promise.resolve()];case 1:return[4,t];case 2:i=o.sent(),e(C.CONFIG,i,{update:!0,screen_name:r}),o.label=3;case 3:return[2]}})})})(O,rU[r],e,t).catch(function(e){return rM.error(e)})},setUserId:function(e,t){(function(e,t,r,n){return(0,U.__awaiter)(this,void 0,void 0,function(){var i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:if(!(n&&n.global))return[3,1];return e(C.SET,{user_id:r}),[2,Promise.resolve()];case 1:return[4,t];case 2:i=o.sent(),e(C.CONFIG,i,{update:!0,user_id:r}),o.label=3;case 3:return[2]}})})})(O,rU[r],e,t).catch(function(e){return rM.error(e)})},setUserProperties:function(e,t){(function(e,t,r,n){return(0,U.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,U.__generator)(this,function(c){switch(c.label){case 0:if(!(n&&n.global))return[3,1];for(o=0,i={},a=Object.keys(r);o<a.length;o++)i["user_properties."+(s=a[o])]=r[s];return e(C.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(C.CONFIG,u,{update:!0,user_properties:r}),c.label=3;case 3:return[2]}})})})(O,rU[r],e,t).catch(function(e){return rM.error(e)})},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,e];case 1:return r=n.sent(),window["ga-disable-"+r]=!t,[2]}})})})(rU[r],e).catch(function(e){return rM.error(e)})},INTERNAL:{delete:function(){return delete rU[r],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(e){if(rq)throw rN.create("already-initialized");e.dataLayerName&&(rB=e.dataLayerName),e.gtagName&&(rK=e.gtagName)},EventName:A,isSupported:function(){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:if((0,D.isBrowserExtension)()||!(0,D.areCookiesEnabled)()||!(0,D.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,D.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}})),h.INTERNAL.registerComponent(new L.Component("analytics-internal",function(e){try{return{logEvent:e.getProvider(rH).getImmediate().logEvent}}catch(e){throw rN.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),h.registerVersion("@firebase/analytics","0.6.18");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rV=function(){function e(e,t,r,n){this.client=e,this.storage=t,this.storageCache=r,this.logger=n}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-t,n=r<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+r+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+n+"."),n},e.prototype.fetch=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:if(r=(t=a.sent())[0],(n=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r))return[2,n];return e.eTag=n&&n.eTag,[4,this.client.fetch(e)];case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},e}(),rz=((M={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",M["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",M["registration-api-key"]="Undefined API key. Check Firebase app initialization.",M["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",M["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",M["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",M["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",M["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",M["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",M["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',M["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',M["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",M["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",M),rW=new D.ErrorFactory("remoteconfig","Remote Config",rz),rG=function(){function e(e,t,r,n,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=n,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,o,a,s,u,c,l,f,p,h,d,g,_;return(0,U.__generator)(this,function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:var m;r=(t=v.sent())[0],n=t[1],i=(window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com")+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},body:JSON.stringify({sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:n,app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)})},a=fetch(i,o),s=new Promise(function(t,r){e.signal.addEventListener(function(){var e=Error("The operation was aborted.");e.name="AbortError",r(e)})}),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return v.sent(),[4,a];case 4:return u=v.sent(),[3,6];case 5:throw c=v.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),rW.create(l,{originalErrorMessage:c.message});case 6:if(f=u.status,p=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];g=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,u.json()];case 8:return g=v.sent(),[3,10];case 9:throw _=v.sent(),rW.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:h=g.entries,d=g.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===d?f=500:"NO_CHANGE"===d?f=304:("NO_TEMPLATE"===d||"EMPTY_CONFIG"===d)&&(h={}),304!==f&&200!==f)throw rW.create("fetch-status",{httpStatus:f});return[2,{status:f,eTag:p,config:h}]}})})},e}(),r$=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),rX=["1","true","t","yes","y","on"],rJ=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&rX.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),rY=function(){function e(e,t,r,n,i){this.app=e,this._client=t,this._storageCache=r,this._storage=n,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=F.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=F.LogLevel.SILENT;break;default:this._logger.logLevel=F.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:if(t=(e=n.sent())[0],r=e[1],!t||!t.config||!t.eTag||t.eTag===r)return[2,!1];return[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])];case 2:return n.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e,t,r,n=this;return(0,U.__generator)(this,function(i){switch(i.label){case 0:e=new r$,setTimeout(function(){return(0,U.__awaiter)(n,void 0,void 0,function(){return(0,U.__generator)(this,function(t){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:var o;return r=(o=t=i.sent())instanceof D.FirebaseError&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw i.sent(),t;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var e,t,r=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys((0,U.__assign)((0,U.__assign)({},e),t))).reduce(function(e,t){return e[t]=r.getValue(t),e},{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new rJ("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new rJ("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new rJ("static"))},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(e,t){var r=e.target.error||void 0;return rW.create(t,{originalErrorMessage:r&&r.message})}var rQ="app_namespace_store",r0=function(){function e(e,t,r,n){void 0===n&&(n=new Promise(function(e,t){var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(e){t(rZ(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(rQ,{keyPath:"compositeKey"})}})),this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=n}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r=this;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,this.openDbPromise];case 1:return t=n.sent(),[2,new Promise(function(n,i){var o=t.transaction([rQ],"readonly").objectStore(rQ),a=r.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(rZ(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;t?n(t.value):n(void 0)}}catch(e){i(rW.create("storage-get",{originalErrorMessage:e&&e.message}))}})]}})})},e.prototype.set=function(e,t){return(0,U.__awaiter)(this,void 0,void 0,function(){var r,n=this;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return r=i.sent(),[2,new Promise(function(i,o){var a=r.transaction([rQ],"readwrite").objectStore(rQ),s=n.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(rZ(e,"storage-set"))},u.onsuccess=function(){i()}}catch(e){o(rW.create("storage-set",{originalErrorMessage:e&&e.message}))}})]}})})},e.prototype.delete=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t,r=this;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,this.openDbPromise];case 1:return t=n.sent(),[2,new Promise(function(n,i){var o=t.transaction([rQ],"readwrite").objectStore(rQ),a=r.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(rZ(e,"storage-delete"))},s.onsuccess=function(){n()}}catch(e){i(rW.create("storage-delete",{originalErrorMessage:e&&e.message}))}})]}})})},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),r1=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,U.__awaiter)(this,void 0,void 0,function(){var e,t,r,n,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return(n=a.sent())&&(this.lastFetchStatus=n),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,r];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}(),r2=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,U.__awaiter)(this,void 0,void 0,function(){var t;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},e.prototype.attemptFetch=function(e,t){var r=t.throttleEndTimeMillis,n=t.backoffCount;return(0,U.__awaiter)(this,void 0,void 0,function(){var t,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:var s;return[4,(s=e.signal,new Promise(function(e,t){var n=setTimeout(e,Math.max(r-Date.now(),0));s.addEventListener(function(){clearTimeout(n),t(rW.create("fetch-throttle",{throttleEndTimeMillis:r}))})}))];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof D.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,D.calculateBackoffMillis)(n),backoffCount:n+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}})})},e}(),r4="@firebase/remote-config";(d=x.default).INTERNAL.registerComponent(new L.Component("remoteConfig",function(e,t){var r=t.instanceIdentifier,n=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw rW.create("registration-window");var o=n.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw rW.create("registration-project-id");if(!s)throw rW.create("registration-api-key");if(!u)throw rW.create("registration-app-id");r=r||"firebase";var c=new r0(u,n.name,r),l=new r1(c),f=new F.Logger(r4);f.logLevel=F.LogLevel.ERROR;var p=new rG(i,d.SDK_VERSION,r,a,s,u),h=new r2(p,c),g=new rV(h,c,l,f),_=new rY(n,g,l,c,f);return _.ensureInitialized(),_},"PUBLIC").setMultipleInstances(!0)),d.registerVersion(r4,"0.1.43"),r(2224);var r3="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */x.default.registerVersion("firebase",r3,"app"),x.default.SDK_VERSION=r3,/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),x.default.registerVersion("firebase","8.10.1")},8676:function(e,t){!function(e){"use strict";function t(e){return new Promise(function(t,r){e.onsuccess=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function r(e,r,n){var i,o=new Promise(function(o,a){t(i=e[r].apply(e,n)).then(o,a)});return o.request=i,o}function n(e,t,r){r.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(e){this[t][r]=e}})})}function i(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function o(e,t,r,n){n.forEach(function(n){n in r.prototype&&(e.prototype[n]=function(){return this[t][n].apply(this[t],arguments)})})}function a(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){var e,n,o;return e=this[t],n=arguments,(o=r(e,i,n)).then(function(e){if(e)return new u(e,o.request)})})})}function s(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function c(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,r){e.oncomplete=function(){t()},e.onerror=function(){r(e.error)},e.onabort=function(){r(e.error)}})}function f(e,t,r){this._db=e,this.oldVersion=t,this.transaction=new l(r)}function p(e){this._db=e}n(s,"_index",["name","keyPath","multiEntry","unique"]),i(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),n(u,"_cursor",["direction","key","primaryKey","value"]),i(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var r=this,n=arguments;return Promise.resolve().then(function(){return r._cursor[e].apply(r._cursor,n),t(r._request).then(function(e){if(e)return new u(e,r._request)})})})}),c.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},n(c,"_store",["name","keyPath","indexNames","autoIncrement"]),i(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(c,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},n(l,"_tx",["objectStoreNames","mode"]),o(l,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},n(f,"_db",["name","version","objectStoreNames"]),o(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},n(p,"_db",["name","version","objectStoreNames"]),o(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[c,s].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,r=(t=arguments,Array.prototype.slice.call(t)),n=r[r.length-1],i=this._store||this._index,o=i[e].apply(i,r.slice(0,-1));o.onsuccess=function(){n(o.result)}})})}),[s,c].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var r=this,n=[];return new Promise(function(i){r.iterateCursor(e,function(e){if(!e||(n.push(e.value),void 0!==t&&n.length==t)){i(n);return}e.continue()})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new f(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);